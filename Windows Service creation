Windows Service 
	Services are not standard executables; they run in the background and are controlled by the Service Control Manager (SCM).

Three main component to develop a windows service :
1. a service entry point
2. a service control handler, and 
3. a main function to register/start the service.


2. Define Globals
	Youâ€™ll need some global variables
	SERVICE_STATUS        g_ServiceStatus = {0};
	SERVICE_STATUS_HANDLE g_StatusHandle = NULL;
	HANDLE                g_ServiceStopEvent = NULL;
	
	
3. Service Entry Point
	This function is called when the service starts:
	void WINAPI ServiceMain(DWORD argc, LPTSTR *argv) 
	{
		g_StatusHandle = RegisterServiceCtrlHandler("MyService", ServiceCtrlHandler);

		if (g_StatusHandle == NULL) return;

		// Set service status to running
		g_ServiceStatus.dwCurrentState = SERVICE_RUNNING;
		SetServiceStatus(g_StatusHandle, &g_ServiceStatus);

		// Create a stop event
		g_ServiceStopEvent = CreateEvent(NULL, TRUE, FALSE, NULL);

		// Service work loop
		while (WaitForSingleObject(g_ServiceStopEvent, 0) != WAIT_OBJECT_0) {
			// Do background work here
			Sleep(1000);
		}

		// Cleanup
		g_ServiceStatus.dwCurrentState = SERVICE_STOPPED;
		SetServiceStatus(g_StatusHandle, &g_ServiceStatus);
	}

4. Service Control Handler
	Handles commands like start, stop, pause:

	void WINAPI ServiceCtrlHandler(DWORD CtrlCode) 
	{
		switch (CtrlCode) 
		{
			case SERVICE_CONTROL_STOP:
				g_ServiceStatus.dwCurrentState = SERVICE_STOP_PENDING;
				SetServiceStatus(g_StatusHandle, &g_ServiceStatus);

				SetEvent(g_ServiceStopEvent);
				break;
			default:
				break;
		}
	}
	
5. Main Function
	Registers the service with SCM:


	int main() 
	{
		SERVICE_TABLE_ENTRY ServiceTable[] = 
		{
			{	"MyService", 
			(LPSERVICE_MAIN_FUNCTION) ServiceMain},
			{NULL, NULL}
		};

		StartServiceCtrlDispatcher(ServiceTable);
		return 0;
	}
	
	
Command For Install and Uninstall Service
1. sc create MyService binPath= "C:\path\to\MyService.exe"
2. sc start MyService
3. sc stop MyService
4. sc delete MyService
